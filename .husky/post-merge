#!/bin/bash
# .husky/post-merge
# Automatically install dependencies if package-lock.json changed after pull/merge.

echo "ğŸ” Checking for dependency changes..."

changed_files=$(git diff-tree -r --name-only --no-commit-id ORIG_HEAD HEAD)

if echo "$changed_files" | grep -q "package-lock.json"; then
    echo "ğŸ“¦ package-lock.json changed. Running npm install..."
    npm install
else
    echo "âœ… No dependency changes detected."
fi
